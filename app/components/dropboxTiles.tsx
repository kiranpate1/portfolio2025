import React, { useEffect } from "react";

type props = {
  rawProgress?: number;
};

const DropboxTiles = ({ rawProgress }: props) => {
  useEffect(() => {
    if (rawProgress === undefined) return;
    const easeOut = (t: number) => t * (2 - t);
    const easedProgress = easeOut(rawProgress);
    const factor = 400;

    const dbx1 = document.querySelectorAll(".dbx-1") as NodeListOf<SVGGElement>;
    dbx1.forEach((el) => {
      el.style.transform = `translateX(${
        factor - (easedProgress || 0) * factor
      }px)`;
    });

    const dbx2 = document.querySelectorAll(".dbx-2") as NodeListOf<SVGGElement>;
    dbx2.forEach((el) => {
      el.style.transform = `translateX(${
        -factor + (easedProgress || 0) * factor
      }px)`;
    });

    const dbx3 = document.querySelectorAll(".dbx-3") as NodeListOf<SVGGElement>;
    dbx3.forEach((el) => {
      el.style.transform = `translateX(${
        -(factor * 2) + (easedProgress || 0) * (factor * 2)
      }px)`;
    });

    const dbx4 = document.querySelectorAll(".dbx-4") as NodeListOf<SVGGElement>;
    dbx4.forEach((el) => {
      el.style.transform = `translateY(${
        -factor + (easedProgress || 0) * factor
      }px)`;
    });

    const dbx5 = document.querySelectorAll(".dbx-5") as NodeListOf<SVGGElement>;
    dbx5.forEach((el) => {
      el.style.transform = `translateX(${
        factor * 2 - (easedProgress || 0) * (factor * 2)
      }px)`;
    });

    const dbx6 = document.querySelectorAll(".dbx-6") as NodeListOf<SVGGElement>;
    dbx6.forEach((el) => {
      el.style.transform = `translateY(${
        factor - (easedProgress || 0) * factor
      }px)`;
    });
  }, [rawProgress]);

  return (
    <div className="absolute inset-0 bg-white">
      <svg
        className="relative minW-full min-h-full left-[50%] translate-x-[-50%] top-[50%] translate-y-[-50%] object-cover"
        viewBox="0 0 2447 1278"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <g className="dbx-1">
          <line
            x1="1486.76"
            y1="-174.979"
            x2="1486.76"
            y2="1450.98"
            stroke="#C5DBFF"
            strokeWidth="1"
            strokeLinecap="round"
          />
          <line
            x1="1936.45"
            y1="-174.979"
            x2="1936.46"
            y2="1450.98"
            stroke="#C5DBFF"
            strokeWidth="1"
            strokeLinecap="round"
          />
        </g>
        <path d="M5 1115.68H2447" stroke="#C5DBFF" strokeWidth="1" />
        <path d="M5 431H2447" stroke="#C5DBFF" strokeWidth="1" />
        <line
          x1="1016.8"
          y1="-174.979"
          x2="1016.8"
          y2="1450.98"
          stroke="#C5DBFF"
          strokeWidth="1"
          strokeLinecap="round"
        />
        <line
          x1="1425.8"
          y1="-174.979"
          x2="1425.8"
          y2="1450.98"
          stroke="#C5DBFF"
          strokeWidth="1"
          strokeLinecap="round"
        />
        <path d="M5 840H2447" stroke="#C5DBFF" strokeWidth="1" />
        <g className="dbx-2">
          <line
            x1="955.842"
            y1="-174.979"
            x2="955.842"
            y2="1450.98"
            stroke="#C5DBFF"
            strokeWidth="1"
            strokeLinecap="round"
          />
          <line
            x1="506.142"
            y1="-174.979"
            x2="506.143"
            y2="1450.98"
            stroke="#C5DBFF"
            strokeWidth="1"
            strokeLinecap="round"
          />
        </g>
        <path d="M5 154.957H2447" stroke="#C5DBFF" strokeWidth="1" />
        <g className="dbx-3">
          <line
            x1="419.172"
            y1="-174.979"
            x2="419.172"
            y2="1450.98"
            stroke="#C5DBFF"
            strokeWidth="1"
            strokeLinecap="round"
          />
        </g>
        <path d="M9.37305 747.654H2451.37" stroke="#C5DBFF" strokeWidth="1" />
        <line
          x1="1578.79"
          y1="-174.979"
          x2="1578.79"
          y2="1450.98"
          stroke="#C5DBFF"
          strokeWidth="1"
          strokeLinecap="round"
        />
        <g className="dbx-4">
          <path d="M5 337.834H2447" stroke="#C5DBFF" strokeWidth="1" />
          <rect
            width="561.747"
            height="337.048"
            transform="translate(1016.98 0.0351562)"
            fill="#3DD3EE"
          />
          <path
            d="M1419.4 175.708L1382.63 199.071L1419.4 222.435L1456.17 199.071L1492.94 222.435L1529.71 199.071L1492.94 175.708L1456.17 199.071L1419.4 175.708Z"
            fill="#055463"
          />
          <path
            d="M1419.4 269.162L1382.63 245.799L1419.4 222.435L1456.17 245.799L1419.4 269.162Z"
            fill="#055463"
          />
          <path
            d="M1456.17 245.799L1492.94 222.435L1529.71 245.799L1492.94 269.162L1456.17 245.799Z"
            fill="#055463"
          />
          <path
            d="M1456.17 300.313L1419.4 276.95L1456.17 253.586L1492.94 276.95L1456.17 300.313Z"
            fill="#055463"
          />
        </g>
        <g className="dbx-5">
          <line
            x1="2028.3"
            y1="-174.979"
            x2="2028.3"
            y2="1450.98"
            stroke="#C5DBFF"
            strokeWidth="1"
            strokeLinecap="round"
          />
        </g>
        <path d="M5 522.258H2447" stroke="#C5DBFF" strokeWidth="1" />
        <line
          x1="863.539"
          y1="-174.979"
          x2="863.539"
          y2="1450.98"
          stroke="#C5DBFF"
          strokeWidth="1"
          strokeLinecap="round"
        />
        <g className="dbx-6">
          <path d="M5 931.805H2447" stroke="#C5DBFF" strokeWidth="1" />
          <rect
            width="561.747"
            height="349.304"
            transform="translate(863.779 931.742)"
            fill="#FA551E"
          />
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M937.113 972.595L894.421 1090.63H916.509L925.317 1064.14H972.161L981.289 1090.63H1003.21L959.531 972.595H937.113ZM965.828 1045.77L948.32 995.143L931.427 1045.77H965.828Z"
            fill="#4E0119"
          />
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M1025.08 1089.97C1029.69 1092.07 1035.41 1093.11 1042.22 1093.11C1049.8 1093.11 1056.34 1091.9 1061.83 1089.47C1067.44 1086.93 1072 1083.62 1075.52 1079.54C1077.65 1077.07 1079.46 1074.44 1080.94 1071.63L1083.26 1090.63H1100.74V1026.4C1100.74 1021.32 1099.97 1016.74 1098.43 1012.66C1097 1008.57 1094.64 1005.1 1091.34 1002.23C1088.04 999.248 1083.7 996.986 1078.32 995.441C1073.04 993.895 1066.56 993.123 1058.87 993.123C1049.86 993.123 1042.11 994.613 1035.63 997.593C1029.14 1000.57 1024.09 1004.77 1020.46 1010.17C1016.94 1015.58 1014.91 1021.87 1014.36 1029.05H1036.61C1036.83 1024.96 1037.77 1021.54 1039.42 1018.78C1041.17 1015.91 1043.76 1013.76 1047.16 1012.33C1050.57 1010.78 1054.86 1010.01 1060.02 1010.01C1063.65 1010.01 1066.72 1010.34 1069.25 1011C1071.89 1011.55 1073.98 1012.38 1075.52 1013.49C1077.05 1014.59 1078.15 1015.97 1078.81 1017.62C1079.58 1019.17 1079.97 1020.94 1079.97 1022.92C1079.97 1025.46 1079.14 1027.5 1077.49 1029.05C1075.95 1030.59 1073.43 1031.81 1069.91 1032.69C1066.39 1033.57 1061.83 1034.4 1056.23 1035.17C1050.3 1036.06 1045.41 1036.88 1041.56 1037.66C1037.71 1038.43 1034.42 1039.31 1031.67 1040.3C1029.03 1041.19 1026.34 1042.51 1023.59 1044.28C1019.75 1046.71 1016.72 1049.91 1014.53 1053.88C1012.33 1057.74 1011.23 1062.32 1011.23 1067.62C1011.23 1072.81 1012.38 1077.33 1014.69 1081.2C1017 1084.95 1020.46 1087.87 1025.08 1089.97ZM1071.89 1067.12C1063.65 1075.38 1055.38 1076.39 1049.64 1076.39C1034.99 1076.39 1034.92 1067.15 1034.8 1064.47C1034.8 1053.88 1046.35 1050.81 1061.11 1048.57C1068.46 1047.46 1076.6 1045.41 1080.13 1042.58C1080.13 1051.86 1079.54 1059.46 1071.89 1067.12Z"
            fill="#4E0119"
          />
        </g>
        <g className="dbx-2">
          <rect
            width="449.397"
            height="684.31"
            transform="translate(506.304 155.117)"
            fill="#C8AFF0"
          />
          <path
            d="M898.509 792.434C684.38 792.434 780.465 386.956 561.461 386.956"
            stroke="#682760"
            strokeWidth="4.86195"
          />
          <path
            d="M731.011 386.956H557.236"
            stroke="#682760"
            strokeWidth="4.86195"
          />
          <rect
            width="25.7789"
            height="25.7791"
            rx="8.57938"
            transform="matrix(-1 0 0 1 564.772 373.68)"
            fill="#682760"
          />
          <rect
            width="25.7789"
            height="25.7791"
            rx="8.57938"
            transform="matrix(-1 0 0 1 745.305 373.68)"
            fill="#682760"
          />
          <rect
            width="25.7789"
            height="25.7791"
            rx="8.57938"
            transform="matrix(-1 0 0 1 745.309 780.195)"
            fill="#682760"
          />
          <path
            d="M905.978 792.453L737.671 792.453"
            stroke="#682760"
            strokeWidth="4.86195"
          />
          <rect
            width="25.7789"
            height="25.7791"
            rx="8.57938"
            transform="matrix(-1 0 0 1 922.145 780.205)"
            fill="#682760"
          />
        </g>
        <g className="dbx-3">
          <rect
            width="418.447"
            height="431.166"
            transform="translate(0 -0.484375)"
            fill="#FF8C19"
          />
          <rect
            x="277.308"
            y="286.95"
            width="99.9402"
            height="99.9402"
            fill="#6D2E09"
          />
          <path
            d="M327.279 304.475C306.356 304.475 294.831 315.998 294.831 336.923C294.831 357.848 306.356 369.371 327.279 369.371C348.202 369.371 359.727 357.848 359.727 336.923C359.727 315.998 348.202 304.475 327.279 304.475Z"
            fill="#BE4B0A"
          />
          <rect
            x="177.369"
            y="187.009"
            width="99.9402"
            height="99.9402"
            fill="#BE4B0A"
          />
          <path
            d="M227.339 204.532C206.416 204.532 194.891 216.055 194.891 236.98C194.891 257.905 206.416 269.428 227.339 269.428C248.262 269.428 259.787 257.905 259.787 236.98C259.787 216.055 248.262 204.532 227.339 204.532Z"
            fill="#6D2E09"
          />
        </g>
        <g className="dbx-3">
          <rect
            width="418.757"
            height="531.106"
            transform="translate(0 747.502)"
            fill="#B4DC19"
          />
          <path
            d="M289.853 941.899L309.641 941.899V920.642C313.825 918.984 317.362 916.051 319.735 912.271C322.109 908.491 323.055 904.077 323.055 899.631C323.055 896.288 322.656 893.512 321.584 890.639C320.512 887.766 318.819 885.157 316.624 882.993C314.428 880.829 311.782 879.16 308.868 878.103C305.954 877.046 302.845 876.642 299.747 876.642C296.643 876.642 293.54 877.046 290.626 878.103C287.713 879.16 285.066 880.829 282.871 882.993C280.675 885.157 278.983 887.766 277.911 890.639C276.839 893.512 276.439 896.288 276.439 899.631C276.439 904.077 277.386 908.491 279.759 912.271C282.133 916.051 285.669 918.984 289.853 920.642V941.899Z"
            fill="#175641"
          />
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M375.602 863.545C375.602 846.492 367.106 837.854 350.332 837.854H276.66V825.668C276.66 808.865 282.702 802.908 299.747 802.908C316.791 802.908 322.833 808.865 322.833 825.668V837.854H342.621V825.668C342.621 806.387 335.181 783.399 299.747 783.399C264.313 783.399 256.872 806.387 256.872 825.668V837.854H249.162C232.388 837.854 223.892 846.492 223.892 863.545V934.115C223.906 949.854 228.427 960.598 236.465 968.522C244.502 976.445 255.399 980.903 271.226 980.917H328.268C344.094 980.903 354.991 976.445 363.029 968.522C371.066 960.598 375.588 949.854 375.602 934.115V863.545ZM355.814 935.626C355.814 946.196 353.381 950.474 349.052 954.742C344.722 959.01 340.337 961.408 329.754 961.408H269.739C259.157 961.408 254.771 959.01 250.442 954.742C246.112 950.474 243.68 946.196 243.68 935.626V863.407C243.68 859.392 245.676 857.363 249.626 857.363H349.868C353.817 857.363 355.814 859.392 355.814 863.407V935.626Z"
            fill="#175641"
          />
        </g>
        <g className="dbx-5">
          <rect
            width="418.447"
            height="522.741"
            transform="translate(2028.55 -0.484375)"
            fill="#FAD24B"
          />
          <path
            d="M2241.98 472.505C2245.95 472.022 2249.19 470.896 2251.72 469.127C2254.42 467.197 2256.5 464.623 2257.94 461.406C2259.38 458.028 2260.11 454.087 2260.11 449.583L2275.26 444.275C2274.18 445.401 2272.73 446.688 2270.93 448.135C2269.12 449.422 2267.05 450.548 2264.71 451.513C2262.36 452.478 2259.65 452.961 2256.59 452.961C2252.44 452.961 2249.01 452.559 2246.31 451.755C2243.78 450.789 2241.89 449.101 2240.63 446.688C2239.54 444.275 2239 440.816 2239 436.312C2239 431.808 2239.63 428.35 2240.9 425.937C2242.34 423.364 2244.5 421.514 2247.39 420.388C2250.46 419.262 2254.33 418.699 2259.02 418.699C2264.07 418.699 2268.04 419.423 2270.93 420.87C2273.99 422.318 2276.16 424.892 2277.42 428.591C2278.86 432.13 2279.59 437.036 2279.59 443.31C2279.59 451.352 2278.32 458.43 2275.8 464.543C2273.45 470.494 2269.67 475.24 2264.43 478.778C2259.2 482.317 2252.53 484.65 2244.41 485.776L2241.98 472.505ZM2296.09 472.505C2300.06 472.022 2303.31 470.896 2305.83 469.127C2308.54 467.197 2310.61 464.623 2312.05 461.406C2313.5 458.028 2314.22 454.087 2314.22 449.583L2329.37 444.516C2328.29 445.642 2326.84 446.929 2325.04 448.377C2323.24 449.663 2321.16 450.789 2318.82 451.755C2316.47 452.559 2313.77 452.961 2310.7 452.961C2306.55 452.961 2303.13 452.559 2300.42 451.755C2297.89 450.789 2296 449.101 2294.74 446.688C2293.66 444.275 2293.11 440.816 2293.11 436.312C2293.11 431.808 2293.75 428.35 2295.01 425.937C2296.45 423.364 2298.62 421.514 2301.5 420.388C2304.57 419.262 2308.45 418.699 2313.14 418.699C2318.19 418.699 2322.15 419.423 2325.04 420.87C2328.11 422.318 2330.27 424.892 2331.53 428.591C2332.98 432.13 2333.7 437.036 2333.7 443.31C2333.7 451.352 2332.44 458.43 2329.91 464.543C2327.57 470.494 2323.78 475.24 2318.55 478.778C2313.32 482.317 2306.64 484.65 2298.53 485.776L2296.09 472.505Z"
            fill="#684505"
          />
          <path
            d="M2062.51 332.56C2062.51 324.26 2063.77 317.099 2066.3 311.077C2068.82 305.055 2072.7 300.254 2077.93 296.674C2083.16 292.931 2089.75 290.571 2097.68 289.594L2100.12 303.021C2096.33 303.346 2093.08 304.486 2090.38 306.439C2087.67 308.392 2085.6 310.996 2084.16 314.251C2082.89 317.506 2082.17 321.493 2081.99 326.213L2067.11 331.339C2068.19 330.037 2069.64 328.735 2071.44 327.433C2073.24 326.131 2075.32 325.073 2077.66 324.26C2080.19 323.283 2082.89 322.795 2085.78 322.795C2089.93 322.795 2093.27 323.283 2095.79 324.26C2098.32 325.073 2100.12 326.701 2101.2 329.142C2102.46 331.421 2103.1 334.92 2103.1 339.639C2103.1 344.034 2102.37 347.533 2100.93 350.137C2099.67 352.741 2097.59 354.612 2094.71 355.751C2091.82 356.891 2088.03 357.46 2083.34 357.46C2078.29 357.46 2074.24 356.728 2071.17 355.263C2068.1 353.636 2065.85 351.032 2064.41 347.451C2063.14 343.871 2062.51 338.907 2062.51 332.56ZM2116.62 332.56C2116.62 324.26 2117.89 317.099 2120.41 311.077C2122.94 305.055 2126.81 300.254 2132.05 296.674C2137.28 292.931 2143.86 290.571 2151.8 289.594L2154.23 303.021C2150.44 303.346 2147.2 304.486 2144.49 306.439C2141.79 308.392 2139.71 310.996 2138.27 314.251C2137.01 317.506 2136.28 321.493 2136.1 326.213L2121.22 331.583C2122.31 330.281 2123.75 328.979 2125.55 327.677C2127.36 326.375 2129.43 325.236 2131.78 324.26C2134.3 323.283 2137.01 322.795 2139.89 322.795C2144.04 322.795 2147.38 323.283 2149.9 324.26C2152.43 325.073 2154.23 326.701 2155.31 329.142C2156.58 331.421 2157.21 334.92 2157.21 339.639C2157.21 344.034 2156.49 347.533 2155.04 350.137C2153.78 352.741 2151.71 354.612 2148.82 355.751C2145.93 356.891 2142.15 357.46 2137.46 357.46C2132.41 357.46 2128.35 356.728 2125.28 355.263C2122.22 353.636 2119.96 351.032 2118.52 347.451C2117.26 343.871 2116.62 338.907 2116.62 332.56Z"
            fill="#684505"
          />
          <rect
            width="418.447"
            height="441.341"
            transform="translate(2028.78 840.225)"
            fill="#892055"
          />
          <g clipPath="url(#clip1_1077_99)">
            <rect
              width="260.446"
              height="208.357"
              transform="translate(2068.17 879.162)"
              fill="#FFAFA5"
            />
            <path
              d="M2108.8 998.838C2085.29 998.838 2068.17 1018.93 2068.17 1018.93V1087.8H2328.62V967.258C2328.62 967.258 2306.74 931.533 2279.24 931.533C2229.65 931.533 2210.32 1023.1 2172.35 1023.1C2148.39 1023.1 2134.84 998.838 2108.8 998.838Z"
              fill="#CD2F7B"
            />
            <circle cx="2159.85" cy="948.498" r="20.8357" fill="#CD2F7B" />
          </g>
        </g>
        <g className="dbx-1">
          <rect
            width="449.397"
            height="684.31"
            transform="translate(1486.81 430.885)"
            fill="#283750"
          />
          <path
            d="M1564.43 477.867C1587.92 468.675 1639.78 465.323 1661.55 465.323C1689.17 465.323 1718.66 470.103 1741.16 487.782C1755.77 499.264 1765 510.598 1768.22 529.386C1770.81 544.478 1774.58 562.198 1768.79 576.998C1765.3 585.904 1755.22 593.978 1746.98 594.727C1736.83 595.65 1726.08 597.021 1719.97 586.542C1713.31 575.129 1722.79 558.287 1732.25 552.165C1744.93 543.958 1758.72 536.614 1773.17 536.614C1797.36 536.614 1822.49 554.453 1841.93 570.003C1858.3 583.099 1867.28 595.331 1871.39 602.743C1875.49 610.11 1878.2 611.888 1882.85 628.935C1883.97 633.028 1887.76 646.942 1888.11 649.259C1888.11 649.521 1880.96 645.273 1878.2 643.002C1874.5 639.952 1871.39 638.746 1868.12 637.12C1864.8 635.472 1859.12 630.572 1855.84 629.754C1854.46 629.408 1878.76 643.668 1888.58 648.579C1891.04 645.305 1892.67 642.031 1895.95 637.12C1897.87 634.231 1903.31 627.298 1908.23 622.387"
            stroke="#B4C8E1"
            strokeWidth="8.18494"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
          <rect
            width="25.7789"
            height="25.7791"
            rx="8.57938"
            transform="matrix(-1 0 0 1 1546.05 465.612)"
            fill="#B4C8E1"
          />
          <rect
            width="25.7789"
            height="25.7791"
            rx="8.57938"
            transform="matrix(-1 0 0 1 1902.75 669.883)"
            fill="#B4C8E1"
          />
          <rect
            width="25.7789"
            height="25.7791"
            rx="8.57938"
            transform="matrix(-1 0 0 1 1546.05 874.151)"
            fill="#B4C8E1"
          />
          <path
            d="M1856.11 683.741C1855.53 682.583 1848.82 681.107 1847.01 681.011C1840.17 680.652 1833.09 678.806 1826.23 677.827C1807.61 675.167 1787.76 675.845 1769.06 677.169C1751.54 678.409 1734.17 679.178 1716.88 682.882C1696.31 687.29 1675.8 695.129 1656.42 703.357C1645.57 707.965 1634.07 712.571 1624.07 718.826C1616.6 723.492 1610.21 729.711 1603.44 735.307C1568.53 764.158 1541.83 808.301 1538.53 853.907C1536.7 849.256 1532.2 846.374 1529.48 842.256C1527.38 839.085 1524.84 836.082 1522.35 833.21C1520.87 831.505 1519.9 829.62 1518.28 828.004C1517.12 826.838 1515.55 825.728 1515.03 824.164L1539.07 853.907C1549.4 843.021 1554.32 840.566 1560.04 837.292C1565.77 834.018 1569.87 828.289 1572.32 827.47"
            stroke="#B4C8E1"
            strokeWidth="8.18494"
            strokeLinecap="round"
            strokeLinejoin="round"
          />
        </g>
        <rect
          width="408.543"
          height="408.543"
          transform="translate(1016.98 430.885)"
          fill="#0061FE"
        />
        <path
          d="M1156.16 532.322L1090.52 573.552L1156.16 614.783L1221.81 573.552L1287.44 614.783L1353.08 573.552L1287.44 532.322L1221.81 573.552L1156.16 532.322Z"
          fill="white"
        />
        <path
          d="M1156.16 697.244L1090.52 656.014L1156.16 614.783L1221.81 656.014L1156.16 697.244Z"
          fill="white"
        />
        <path
          d="M1221.81 656.014L1287.44 614.783L1353.08 656.014L1287.44 697.244L1221.81 656.014Z"
          fill="white"
        />
        <path
          d="M1221.81 752.216L1156.16 710.986L1221.81 669.756L1287.44 710.986L1221.81 752.216Z"
          fill="white"
        />
      </svg>
    </div>
  );
};

export default DropboxTiles;
